const puppeteer = require('puppeteer');
const fs = require('fs');

let once = true;

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

async function openBrowser(){
    let browser = await puppeteer.launch({
        headless: false,
        //userDataDir: "./chromeProfile",
        args: [
            "--proxy-server=http://127.0.0.1:8080",
            "--ignore-certificate-errors",
            "--ssl-version-min=tls1",
            "--ssl-version-max=tls1.3",
            "--tlsv1",
            "--tlsv1.1",
            "--tlsv1.2",
            "--tlsv1.3"
        ]
    });
    let context = await browser.defaultBrowserContext();
    let pages =  await browser.pages();
    let page = pages[0];

    page.setDefaultNavigationTimeout(90000);

    await page.goto('https://www.aliexpress.com/');

}

openBrowser();